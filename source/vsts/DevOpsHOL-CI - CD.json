{
  "source":2,
  "id":6,
  "revision":2,
  "name":"DevOpsHOL-CI - CD",
  "description":null,
  "createdBy":{
    "id":"652d04a6-da7e-4ce3-b365-8cfed2574a7d",
    "displayName":"Andrew Morgan",
    "uniqueName":"nagroma@hotmail.com",
    "url":"https://app.vssps.visualstudio.com/A94cbef75-cc36-4962-a500-fe681327dee5/_apis/Identities/652d04a6-da7e-4ce3-b365-8cfed2574a7d",
    "imageUrl":"https://nagroma.visualstudio.com/_api/_common/identityImage?id=652d04a6-da7e-4ce3-b365-8cfed2574a7d&t=00000000-0000-0000-5056-df8f442cd508"
  },
  "createdOn":"2017-11-15T19:42:25.530Z",
  "modifiedBy":{
    "id":"652d04a6-da7e-4ce3-b365-8cfed2574a7d",
    "displayName":"Andrew Morgan",
    "uniqueName":"nagroma@hotmail.com",
    "url":"https://app.vssps.visualstudio.com/A94cbef75-cc36-4962-a500-fe681327dee5/_apis/Identities/652d04a6-da7e-4ce3-b365-8cfed2574a7d",
    "imageUrl":"https://nagroma.visualstudio.com/_api/_common/identityImage?id=652d04a6-da7e-4ce3-b365-8cfed2574a7d&t=00000000-0000-0000-5056-df8f442cd508"
  },
  "modifiedOn":"2017-11-15T19:45:38.497Z",
  "isDeleted":false,
  "path":"\\",
  "variables":{
    "AppServicePlan":{
      "value":"DevOpsHOL2"
    },
    "ResourceGroupName":{
      "value":"DevOpsHOL2"
    },
    "SiteLocation":{
      "value":"eastus"
    },
    "WebsiteName":{
      "value":"devopshol-am2"
    }
  },
  "variableGroups":[

  ],
  "environments":[
    {
      "id":10,
      "name":"Dev",
      "rank":1,
      "owner":{
        "id":"652d04a6-da7e-4ce3-b365-8cfed2574a7d",
        "displayName":"Andrew Morgan",
        "uniqueName":"nagroma@hotmail.com",
        "url":"https://app.vssps.visualstudio.com/A94cbef75-cc36-4962-a500-fe681327dee5/_apis/Identities/652d04a6-da7e-4ce3-b365-8cfed2574a7d",
        "imageUrl":"https://nagroma.visualstudio.com/_api/_common/identityImage?id=652d04a6-da7e-4ce3-b365-8cfed2574a7d&t=00000000-0000-0000-5056-df8f442cd508"
      },
      "variables":{

      },
      "variableGroups":[

      ],
      "preDeployApprovals":{
        "approvals":[
          {
            "rank":1,
            "isAutomated":true,
            "isNotificationOn":false,
            "id":28
          }
        ]
      },
      "deployStep":{
        "tasks":[

        ],
        "id":33
      },
      "postDeployApprovals":{
        "approvals":[
          {
            "rank":1,
            "isAutomated":true,
            "isNotificationOn":false,
            "id":34
          }
        ]
      },
      "deployPhases":[
        {
          "deploymentInput":{
            "parallelExecution":{
              "parallelExecutionType":"none"
            },
            "skipArtifactsDownload":false,
            "artifactsDownloadInput":{
              "downloadInputs":[

              ]
            },
            "queueId":20,
            "demands":[

            ],
            "enableAccessToken":false,
            "timeoutInMinutes":0,
            "jobCancelTimeoutInMinutes":1,
            "condition":"succeeded()",
            "overrideInputs":{

            }
          },
          "rank":1,
          "phaseType":1,
          "name":"Agent phase",
          "workflowTasks":[
            {
              "taskId":"94a74903-f93f-4075-884f-dc11f34058b4",
              "version":"2.*",
              "name":"Azure Deployment:Create Or Update Resource Group action on $(ResourceGroupName)",
              "refName":"AzureResourceGroupDeployment3",
              "enabled":true,
              "alwaysRun":false,
              "continueOnError":false,
              "timeoutInMinutes":0,
              "definitionType":"task",
              "overrideInputs":{

              },
              "condition":"succeeded()",
              "inputs":{
                "ConnectedServiceName":"cdd20c8a-52e8-4775-8fb6-37f0e9c0cae7",
                "action":"Create Or Update Resource Group",
                "resourceGroupName":"$(ResourceGroupName)",
                "location":"$(SiteLocation)",
                "templateLocation":"Linked artifact",
                "csmFileLink":"",
                "csmParametersFileLink":"",
                "csmFile":"$(System.DefaultWorkingDirectory)/**/WebSite.json",
                "csmParametersFile":"",
                "overrideParameters":"-appServicePlanName $(AppServicePlan) -siteName $(WebSiteName) -siteLocation $(SiteLocation) -workerSize \"0\"",
                "deploymentMode":"Incremental",
                "enableDeploymentPrerequisites":"None",
                "deploymentGroupEndpoint":"",
                "project":"",
                "deploymentGroupName":"",
                "copyAzureVMTags":"true",
                "outputVariable":""
              }
            },
            {
              "taskId":"497d490f-eea7-4f2b-ab94-48d9c1acdcb1",
              "version":"3.*",
              "name":"Azure App Service Deploy: $(WebSiteName)",
              "refName":"AzureRmWebAppDeployment2",
              "enabled":true,
              "alwaysRun":false,
              "continueOnError":false,
              "timeoutInMinutes":0,
              "definitionType":"task",
              "overrideInputs":{

              },
              "condition":"succeeded()",
              "inputs":{
                "ConnectedServiceName":"cdd20c8a-52e8-4775-8fb6-37f0e9c0cae7",
                "WebAppName":"$(WebSiteName)",
                "WebAppKind":"app",
                "DeployToSlotFlag":"true",
                "ImageSource":"Registry",
                "ResourceGroupName":"$(ResourceGroupName)",
                "SlotName":"Dev",
                "AzureContainerRegistry":"",
                "AzureContainerRegistryLoginServer":"",
                "AzureContainerRegistryImage":"",
                "AzureContainerRegistryTag":"",
                "DockerRepositoryAccess":"public",
                "RegistryConnectedServiceName":"",
                "PrivateRegistryImage":"",
                "PrivateRegistryTag":"",
                "DockerNamespace":"",
                "DockerRepository":"",
                "DockerImageTag":"",
                "VirtualApplication":"",
                "Package":"$(System.DefaultWorkingDirectory)/**/*.zip",
                "BuiltinLinuxPackage":"$(System.DefaultWorkingDirectory)/**/*.zip",
                "RuntimeStack":"node|4.4",
                "StartupCommand":"",
                "WebAppUri":"",
                "ScriptType":"",
                "InlineScript":":: You can provide your deployment commands here. One command per line.",
                "ScriptPath":"",
                "GenerateWebConfig":"false",
                "WebConfigParameters":"",
                "AppSettings":"",
                "TakeAppOfflineFlag":"false",
                "UseWebDeploy":"false",
                "SetParametersFile":"",
                "RemoveAdditionalFilesFlag":"false",
                "ExcludeFilesFromAppDataFlag":"false",
                "AdditionalArguments":"",
                "RenameFilesFlag":"false",
                "XmlTransformation":"false",
                "XmlVariableSubstitution":"false",
                "JSONFiles":""
              }
            }
          ]
        }
      ],
      "environmentOptions":{
        "emailNotificationType":"OnlyOnFailure",
        "emailRecipients":"release.environment.owner;release.creator",
        "skipArtifactsDownload":false,
        "timeoutInMinutes":0,
        "enableAccessToken":false,
        "publishDeploymentStatus":true
      },
      "demands":[

      ],
      "conditions":[
        {
          "name":"ReleaseStarted",
          "conditionType":1,
          "value":""
        }
      ],
      "executionPolicy":{
        "concurrencyCount":0,
        "queueDepthCount":0
      },
      "schedules":[

      ],
      "retentionPolicy":{
        "daysToKeep":30,
        "releasesToKeep":3,
        "retainBuild":true
      },
      "processParameters":{

      },
      "properties":{

      },
      "preDeploymentGates":{
        "id":0,
        "gatesOptions":null,
        "gates":[

        ]
      },
      "postDeploymentGates":{
        "id":0,
        "gatesOptions":null,
        "gates":[

        ]
      }
    },
    {
      "id":11,
      "name":"Stage",
      "rank":2,
      "owner":{
        "id":"652d04a6-da7e-4ce3-b365-8cfed2574a7d",
        "displayName":"Andrew Morgan",
        "uniqueName":"nagroma@hotmail.com",
        "url":"https://app.vssps.visualstudio.com/A94cbef75-cc36-4962-a500-fe681327dee5/_apis/Identities/652d04a6-da7e-4ce3-b365-8cfed2574a7d",
        "imageUrl":"https://nagroma.visualstudio.com/_api/_common/identityImage?id=652d04a6-da7e-4ce3-b365-8cfed2574a7d&t=00000000-0000-0000-5056-df8f442cd508"
      },
      "variables":{

      },
      "variableGroups":[

      ],
      "preDeployApprovals":{
        "approvals":[
          {
            "rank":1,
            "isAutomated":true,
            "isNotificationOn":false,
            "id":29
          }
        ]
      },
      "deployStep":{
        "tasks":[

        ],
        "id":32
      },
      "postDeployApprovals":{
        "approvals":[
          {
            "rank":1,
            "isAutomated":true,
            "isNotificationOn":false,
            "id":35
          }
        ]
      },
      "deployPhases":[
        {
          "deploymentInput":{
            "parallelExecution":{
              "parallelExecutionType":"none"
            },
            "skipArtifactsDownload":false,
            "artifactsDownloadInput":{
              "downloadInputs":[

              ]
            },
            "queueId":20,
            "demands":[

            ],
            "enableAccessToken":false,
            "timeoutInMinutes":0,
            "jobCancelTimeoutInMinutes":1,
            "condition":"succeeded()",
            "overrideInputs":{

            }
          },
          "rank":1,
          "phaseType":1,
          "name":"Agent phase",
          "workflowTasks":[
            {
              "taskId":"497d490f-eea7-4f2b-ab94-48d9c1acdcb1",
              "version":"3.*",
              "name":"Azure App Service Deploy: $(WebSiteName)",
              "refName":"AzureRmWebAppDeployment2",
              "enabled":true,
              "alwaysRun":false,
              "continueOnError":false,
              "timeoutInMinutes":0,
              "definitionType":"task",
              "overrideInputs":{

              },
              "condition":"succeeded()",
              "inputs":{
                "ConnectedServiceName":"cdd20c8a-52e8-4775-8fb6-37f0e9c0cae7",
                "WebAppName":"$(WebSiteName)",
                "WebAppKind":"app",
                "DeployToSlotFlag":"true",
                "ImageSource":"Registry",
                "ResourceGroupName":"$(ResourceGroupName)",
                "SlotName":"Staging",
                "AzureContainerRegistry":"",
                "AzureContainerRegistryLoginServer":"",
                "AzureContainerRegistryImage":"",
                "AzureContainerRegistryTag":"",
                "DockerRepositoryAccess":"public",
                "RegistryConnectedServiceName":"",
                "PrivateRegistryImage":"",
                "PrivateRegistryTag":"",
                "DockerNamespace":"",
                "DockerRepository":"",
                "DockerImageTag":"",
                "VirtualApplication":"",
                "Package":"$(System.DefaultWorkingDirectory)/**/*.zip",
                "BuiltinLinuxPackage":"$(System.DefaultWorkingDirectory)/**/*.zip",
                "RuntimeStack":"node|4.4",
                "StartupCommand":"",
                "WebAppUri":"",
                "ScriptType":"",
                "InlineScript":":: You can provide your deployment commands here. One command per line.",
                "ScriptPath":"",
                "GenerateWebConfig":"false",
                "WebConfigParameters":"",
                "AppSettings":"",
                "TakeAppOfflineFlag":"false",
                "UseWebDeploy":"false",
                "SetParametersFile":"",
                "RemoveAdditionalFilesFlag":"false",
                "ExcludeFilesFromAppDataFlag":"false",
                "AdditionalArguments":"",
                "RenameFilesFlag":"false",
                "XmlTransformation":"false",
                "XmlVariableSubstitution":"false",
                "JSONFiles":""
              }
            }
          ]
        }
      ],
      "environmentOptions":{
        "emailNotificationType":"OnlyOnFailure",
        "emailRecipients":"release.environment.owner;release.creator",
        "skipArtifactsDownload":false,
        "timeoutInMinutes":0,
        "enableAccessToken":false,
        "publishDeploymentStatus":true
      },
      "demands":[

      ],
      "conditions":[
        {
          "name":"Dev",
          "conditionType":2,
          "value":"4"
        }
      ],
      "executionPolicy":{
        "concurrencyCount":0,
        "queueDepthCount":0
      },
      "schedules":[

      ],
      "retentionPolicy":{
        "daysToKeep":30,
        "releasesToKeep":3,
        "retainBuild":true
      },
      "processParameters":{

      },
      "properties":{

      },
      "preDeploymentGates":{
        "id":0,
        "gatesOptions":null,
        "gates":[

        ]
      },
      "postDeploymentGates":{
        "id":0,
        "gatesOptions":null,
        "gates":[

        ]
      }
    },
    {
      "id":12,
      "name":"Prod",
      "rank":3,
      "owner":{
        "id":"652d04a6-da7e-4ce3-b365-8cfed2574a7d",
        "displayName":"Andrew Morgan",
        "uniqueName":"nagroma@hotmail.com",
        "url":"https://app.vssps.visualstudio.com/A94cbef75-cc36-4962-a500-fe681327dee5/_apis/Identities/652d04a6-da7e-4ce3-b365-8cfed2574a7d",
        "imageUrl":"https://nagroma.visualstudio.com/_api/_common/identityImage?id=652d04a6-da7e-4ce3-b365-8cfed2574a7d&t=00000000-0000-0000-5056-df8f442cd508"
      },
      "variables":{

      },
      "variableGroups":[

      ],
      "preDeployApprovals":{
        "approvals":[
          {
            "rank":1,
            "isAutomated":true,
            "isNotificationOn":false,
            "id":30
          }
        ]
      },
      "deployStep":{
        "tasks":[

        ],
        "id":31
      },
      "postDeployApprovals":{
        "approvals":[
          {
            "rank":1,
            "isAutomated":true,
            "isNotificationOn":false,
            "id":36
          }
        ]
      },
      "deployPhases":[
        {
          "deploymentInput":{
            "parallelExecution":{
              "parallelExecutionType":"none"
            },
            "skipArtifactsDownload":false,
            "artifactsDownloadInput":{
              "downloadInputs":[

              ]
            },
            "queueId":20,
            "demands":[

            ],
            "enableAccessToken":false,
            "timeoutInMinutes":0,
            "jobCancelTimeoutInMinutes":1,
            "condition":"succeeded()",
            "overrideInputs":{

            }
          },
          "rank":1,
          "phaseType":1,
          "name":"Agent phase",
          "workflowTasks":[
            {
              "taskId":"497d490f-eea7-4f2b-ab94-48d9c1acdcb1",
              "version":"3.*",
              "name":"Azure App Service Deploy: $(WebSiteName)",
              "refName":"AzureRmWebAppDeployment2",
              "enabled":true,
              "alwaysRun":false,
              "continueOnError":false,
              "timeoutInMinutes":0,
              "definitionType":"task",
              "overrideInputs":{

              },
              "condition":"succeeded()",
              "inputs":{
                "ConnectedServiceName":"cdd20c8a-52e8-4775-8fb6-37f0e9c0cae7",
                "WebAppName":"$(WebSiteName)",
                "WebAppKind":"app",
                "DeployToSlotFlag":"false",
                "ImageSource":"Registry",
                "ResourceGroupName":"$(ResourceGroupName)",
                "SlotName":"Staging",
                "AzureContainerRegistry":"",
                "AzureContainerRegistryLoginServer":"",
                "AzureContainerRegistryImage":"",
                "AzureContainerRegistryTag":"",
                "DockerRepositoryAccess":"public",
                "RegistryConnectedServiceName":"",
                "PrivateRegistryImage":"",
                "PrivateRegistryTag":"",
                "DockerNamespace":"",
                "DockerRepository":"",
                "DockerImageTag":"",
                "VirtualApplication":"",
                "Package":"$(System.DefaultWorkingDirectory)/**/*.zip",
                "BuiltinLinuxPackage":"$(System.DefaultWorkingDirectory)/**/*.zip",
                "RuntimeStack":"node|4.4",
                "StartupCommand":"",
                "WebAppUri":"",
                "ScriptType":"",
                "InlineScript":":: You can provide your deployment commands here. One command per line.",
                "ScriptPath":"",
                "GenerateWebConfig":"false",
                "WebConfigParameters":"",
                "AppSettings":"",
                "TakeAppOfflineFlag":"false",
                "UseWebDeploy":"false",
                "SetParametersFile":"",
                "RemoveAdditionalFilesFlag":"false",
                "ExcludeFilesFromAppDataFlag":"false",
                "AdditionalArguments":"",
                "RenameFilesFlag":"false",
                "XmlTransformation":"false",
                "XmlVariableSubstitution":"false",
                "JSONFiles":""
              }
            }
          ]
        }
      ],
      "environmentOptions":{
        "emailNotificationType":"OnlyOnFailure",
        "emailRecipients":"release.environment.owner;release.creator",
        "skipArtifactsDownload":false,
        "timeoutInMinutes":0,
        "enableAccessToken":false,
        "publishDeploymentStatus":true
      },
      "demands":[

      ],
      "conditions":[
        {
          "name":"Stage",
          "conditionType":2,
          "value":"4"
        }
      ],
      "executionPolicy":{
        "concurrencyCount":0,
        "queueDepthCount":0
      },
      "schedules":[

      ],
      "retentionPolicy":{
        "daysToKeep":30,
        "releasesToKeep":3,
        "retainBuild":true
      },
      "processParameters":{

      },
      "properties":{

      },
      "preDeploymentGates":{
        "id":0,
        "gatesOptions":null,
        "gates":[

        ]
      },
      "postDeploymentGates":{
        "id":0,
        "gatesOptions":null,
        "gates":[

        ]
      }
    }
  ],
  "artifacts":[
    {
      "sourceId":"e58a4fcf-1085-4dc6-a88c-8d0a3dc5c49a:5",
      "type":"Build",
      "alias":"DevOpsHOL-CI",
      "definitionReference":{
        "artifactSourceDefinitionUrl":{
          "id":"https://nagroma.visualstudio.com/_permalink/_build/index?collectionId=d3e7f117-361e-4266-8c86-e766ad01a100&projectId=e58a4fcf-1085-4dc6-a88c-8d0a3dc5c49a&definitionId=5",
          "name":""
        },
        "defaultVersionBranch":{
          "id":"",
          "name":""
        },
        "defaultVersionSpecific":{
          "id":"",
          "name":""
        },
        "defaultVersionTags":{
          "id":"",
          "name":""
        },
        "defaultVersionType":{
          "id":"latestType",
          "name":"Latest"
        },
        "definition":{
          "id":"5",
          "name":"DevOpsHOL-CI"
        },
        "project":{
          "id":"e58a4fcf-1085-4dc6-a88c-8d0a3dc5c49a",
          "name":"DevOpsHOL"
        }
      },
      "isPrimary":true
    }
  ],
  "triggers":[
    {
      "artifactAlias":"DevOpsHOL-CI",
      "triggerConditions":[

      ],
      "triggerType":1
    }
  ],
  "releaseNameFormat":"Release-$(rev:r)",
  "url":"https://nagroma.vsrm.visualstudio.com/e58a4fcf-1085-4dc6-a88c-8d0a3dc5c49a/_apis/Release/definitions/6",
  "_links":{
    "self":{
      "href":"https://nagroma.vsrm.visualstudio.com/e58a4fcf-1085-4dc6-a88c-8d0a3dc5c49a/_apis/Release/definitions/6"
    },
    "web":{
      "href":"https://nagroma.visualstudio.com/e58a4fcf-1085-4dc6-a88c-8d0a3dc5c49a/_release?definitionId=6"
    }
  },
  "tags":[

  ],
  "properties":{
    "DefinitionCreationSource":{
      "$type":"System.String",
      "$value":"ReleaseImport"
    }
  }
}